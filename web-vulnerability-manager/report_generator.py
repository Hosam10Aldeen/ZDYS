# ## ðŸ“„ Tarama SonuÃ§larÄ±nÄ± PDF'e DÃ¶nÃ¼ÅŸtÃ¼rme (`report_generator.py`)
# # report_generator.py
import pdfkit
import tempfile

def generate_pdf(results):
    html_content = """
    <html><body><h1>Tarama Raporu</h1>
    """
    for result in results:
        html_content += f"<h2>{result['tool'].upper()}</h2><pre>{result['output']}</pre><hr>"
    html_content += "</body></html>"

    temp_file = tempfile.NamedTemporaryFile(delete=False, suffix=".pdf")
    pdfkit.from_string(html_content, temp_file.name)
    return temp_file.name

### with weasyprint ###
# from weasyprint import HTML
# import tempfile
# import weasyprint

# def generate_pdf(results):
#     html_content = """
#     <html><body><h1>Tarama Raporu</h1>
#     """
#     for result in results:
#         html_content += f"<h2>{result['tool'].upper()}</h2><pre>{result['output']}</pre><hr>"
#     html_content += "</body></html>"

#     temp_file = tempfile.NamedTemporaryFile(delete=False, suffix=".pdf")
#     print("HTML class:", HTML)
#     print("weasyprint module location:", weasyprint.__file__)

#     HTML(string=html_content).write_pdf(temp_file.name)
#     return temp_file.name
